<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="search" type="application/opensearchdescription+xml" title="Konstellation" href="/opensearch.xml"><title data-react-helmet="true">Principles | Konstellation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Principles | Konstellation"><meta data-react-helmet="true" name="description" content="Stability &amp; cohesion"><meta data-react-helmet="true" property="og:description" content="Stability &amp; cohesion"><meta data-react-helmet="true" property="og:url" content="https://konstellation.dev/docs/konstellation/principles"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://konstellation.dev/docs/konstellation/principles"><link rel="stylesheet" href="/styles.d4a37da5.css">
<link rel="preload" href="/styles.3cdb5148.js" as="script">
<link rel="preload" href="/runtime~main.8ab41bae.js" as="script">
<link rel="preload" href="/main.1807bde1.js" as="script">
<link rel="preload" href="/1.3c02cc62.js" as="script">
<link rel="preload" href="/2.694aefcc.js" as="script">
<link rel="preload" href="/29.7c6873eb.js" as="script">
<link rel="preload" href="/33.7caa915a.js" as="script">
<link rel="preload" href="/20ac7829.eb314f58.js" as="script">
<link rel="preload" href="/17896441.3f5aa49e.js" as="script">
<link rel="preload" href="/b23b5cce.e6281cab.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo_light.png" alt="Konstellation Logo"><strong class="navbar__title">Konstellation</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/konstellation/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/k11n/konstellation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo_light.png" alt="Konstellation Logo"><strong class="navbar__title">Konstellation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/konstellation/introduction">Docs</a></li><li class="menu__list-item"><a href="https://github.com/k11n/konstellation" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Konstellation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/konstellation/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/konstellation/why">Why Konstellation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/konstellation/principles">Principles</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/deploy">Deploying Your First App</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Working With Apps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apps/basics">The Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apps/configuration">Config &amp; Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apps/develop">Development &amp; Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apps/services">Microservices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apps/monitoring">Monitoring</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Cluster Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clusters/creation">Cluster Creation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clusters/users">Managing Users</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clusters/networking">Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clusters/upgrading">Upgrading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clusters/migration">Cluster Migration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/manifest">App Manifest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/linkedserviceaccount">Linked Service Account</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Principles</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="stability--cohesion"></a>Stability &amp; cohesion<a aria-hidden="true" tabindex="-1" class="hash-link" href="#stability--cohesion" title="Direct link to heading">#</a></h2><p>Konstellation is designed to provide an integrated platform involving multiple OSS components. Thus, one of our core goals is to provide cohesion with all of the included software components.</p><p>When upgrading third party components, we choose versions of components that have been tested to work with each other, as well as the version of Kubernetes cluster that you create.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="abstraction-with-extensibility"></a>Abstraction with extensibility<a aria-hidden="true" tabindex="-1" class="hash-link" href="#abstraction-with-extensibility" title="Direct link to heading">#</a></h2><p>In order to simplify complex systems, we create abstractions as software engineers. We believe the right type of abtractions would make the common case much less painful, but yet does not make it opaque so it becomes impossible access the underlying engine.</p><p>Konstellation achieves this with its operator and Custom Resource Definitions. While it drastically simplifies what&#x27;s involved in creating and managing apps, it does so by managing underlying native Kubernetes resources.</p><p>You can access and inspect the Kube resources created by Konstellation, and they will continue to function in absence of the Konstellation operator.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="reproducibility-and-undo"></a>Reproducibility and undo<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reproducibility-and-undo" title="Direct link to heading">#</a></h2><p>With infrastructure changes in the cloud, it can be easy to create a lot of resources that are inter-dependent, making it difficult to reproduce the setup or to remove. Konstellation automates resources management, tracking all of the resources that it creates, and tagging them accordingly. For the cluster and VPC, a <code>destroy</code> command would remove everything it allocated.</p><p>It should also be easy to replicate a cluster, with no manual steps. Konstellation stores all manifests as Kubernetes resources, and offers export and import commands to easily recreate the same setup.</p><p>The same principals also apply to managing app releases. Instead of relying on a traditional Kubernetes Deployment, Konstellation creates distinct AppReleases for just about any changes to apps. This includes build, config, etc. Each App Release can be managed independently, and rolled back if necessary.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="optimized-for-apps-not-databases"></a>Optimized for apps, not databases<a aria-hidden="true" tabindex="-1" class="hash-link" href="#optimized-for-apps-not-databases" title="Direct link to heading">#</a></h2><p>An application typically involves a combination services and databases. While it&#x27;s possible to run databases inside of Kubernetes, we prefer to run them separately. This is because:</p><ul><li>Databases benefit from having close to the metal access</li><li>Operating databases is very different from operating services, and there are managed services that solve that problem very well. (<a href="https://aws.amazon.com/rds/" target="_blank" rel="noopener noreferrer">RDS</a>, <a href="https://aws.amazon.com/elasticache/" target="_blank" rel="noopener noreferrer">ElastiCache</a>, <a href="https://www.scylladb.com/product/scylla-cloud/" target="_blank" rel="noopener noreferrer">ScyllaCloud</a> to name a few)</li><li>Scaling databases is tricky, due to the amount of data on disk. The same policies used for scaling homogenous services (autoscaling based on CPU utilization) isn&#x27;t as effective when scaling DBs.</li></ul><p>Konstellation focuses on apps (or services/microservices), and is designed to allow you to point to externally hosted databases via <a href="/docs/apps/configuration">Configs</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="upgrading-software"></a>Upgrading software<a aria-hidden="true" tabindex="-1" class="hash-link" href="#upgrading-software" title="Direct link to heading">#</a></h2><p>Upgrading major components on a live cluster can be unpredictable. I&#x27;ve had multiple instances where a seemingly simple software upgrade would proceed to take down the entire production cluster, causing downtime and major headaches.</p><p>Konstellation takes a different strategy to upgrading software components. For the components Konstellation installs onto a cluster, they are frozen at the time of initial installation. They will not be changed or upgraded, in order to optimize for stability.</p><p>With new Konstellation releases, they will include updates to the dependent components, and each release will be tested with the components working together in concert. Konstellation users should create new clusters periodically, and load all of the apps configs that are previously installed. Then switch the DNS endpoint of your domains to shift traffic over to the new cluster. The old cluster could then be deprecated and shut down.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="versions"></a>Versions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#versions" title="Direct link to heading">#</a></h2><p>Konstellation uses <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">SemVer</a>, and will adopt the following guarantees:</p><ul><li>releases within the same <strong>major</strong> version will be API compatible between the cluster and CLI</li><li>releases within the same <strong>minor</strong> version will only include components with only minor version changes</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/k11n/konstellation/edit/master/website/docs/konstellation/principles.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/konstellation/why"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Why Konstellation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#stability--cohesion" class="table-of-contents__link">Stability &amp; cohesion</a></li><li><a href="#abstraction-with-extensibility" class="table-of-contents__link">Abstraction with extensibility</a></li><li><a href="#reproducibility-and-undo" class="table-of-contents__link">Reproducibility and undo</a></li><li><a href="#optimized-for-apps-not-databases" class="table-of-contents__link">Optimized for apps, not databases</a></li><li><a href="#upgrading-software" class="table-of-contents__link">Upgrading software</a></li><li><a href="#versions" class="table-of-contents__link">Versions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Introduction</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/konstellation/introduction">Intro</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/konstellation/why">Why Konstellation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/konstellation/principles">Design Principles</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/apps/basics">Working with Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/clusters/creation">Cluster Operation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/manifest">Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/k11n/konstellation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Apache 2.0 Licensed.</div></div></div></footer></div>
<script src="/styles.3cdb5148.js"></script>
<script src="/runtime~main.8ab41bae.js"></script>
<script src="/main.1807bde1.js"></script>
<script src="/1.3c02cc62.js"></script>
<script src="/2.694aefcc.js"></script>
<script src="/29.7c6873eb.js"></script>
<script src="/33.7caa915a.js"></script>
<script src="/20ac7829.eb314f58.js"></script>
<script src="/17896441.3f5aa49e.js"></script>
<script src="/b23b5cce.e6281cab.js"></script>
</body>
</html>