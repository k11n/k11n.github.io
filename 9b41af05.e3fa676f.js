(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{73:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return i})),r.d(t,"rightToc",(function(){return c})),r.d(t,"default",(function(){return l}));var n=r(2),a=r(6),o=(r(0),r(89)),s={title:"Managing Users"},i={unversionedId:"clusters/users",id:"clusters/users",isDocsHomePage:!1,title:"Managing Users",description:"When an EKS cluster is setup, by default it grants permissions to only the IAM user that created the cluster. Even when other users have the appropriate IAM permissions, they will not be able to interact with the Kubernetes APIs. This creates a challenge in terms of giving others access to the cluster.",source:"@site/docs/clusters/users.md",permalink:"/docs/clusters/users",editUrl:"https://github.com/k11n/konstellation/edit/master/website/docs/clusters/users.md",sidebar:"default",previous:{title:"Cluster Creation",permalink:"/docs/clusters/creation"},next:{title:"Networking",permalink:"/docs/clusters/networking"}},c=[{value:"Specifying an admin group",id:"specifying-an-admin-group",children:[]}],u={rightToc:c};function l(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"When an EKS cluster is setup, by default it grants permissions to only the IAM user that created the cluster. Even when other users have the appropriate IAM permissions, they will not be able to interact with the Kubernetes APIs. This creates a challenge in terms of giving others access to the cluster."),Object(o.b)("p",null,"EKS normally handles this mapping through a configmap: ",Object(o.b)("inlineCode",{parentName:"p"},"kube-system/aws-auth"),", but would require you to manually add each user individually, which can be error prone."),Object(o.b)("p",null,"To make this more manageable, Konstellation creates an admin role ",Object(o.b)("inlineCode",{parentName:"p"},"kon-<cluster>-admin-role")," for each cluster that it creates, and assumes this role for all of the interactions it has with Kubernetes."),Object(o.b)("p",null,"Each user will still have a unique username when interacting with Kubernetes. Their Kubernetes username would become: ",Object(o.b)("inlineCode",{parentName:"p"},"user:<IAM username>"),"."),Object(o.b)("h2",{id:"specifying-an-admin-group"},"Specifying an admin group"),Object(o.b)("p",null,"When you create a cluster, Konstellation will ask you for an IAM group that would be mapped to a Kubernetes admin. You can use an existing IAM group or create a new one. For any users that should have access to the Kubernetes cluster, add them to the admin group."),Object(o.b)("p",null,"With this approach, as you create new clusters, they could use the same group membership to manage access."))}l.isMDXComponent=!0},89:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return b}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=a.a.createContext({}),l=function(e){var t=a.a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=l(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(r),m=n,b=p["".concat(s,".").concat(m)]||p[m]||h[m]||o;return r?a.a.createElement(b,i(i({ref:t},u),{},{components:r})):a.a.createElement(b,i({ref:t},u))}));function b(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var u=2;u<o;u++)s[u]=r[u];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);